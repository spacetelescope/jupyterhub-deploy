#! /bin/bash -eu

# This is a standard entry-point used to set up notebooks for this
# Docker image.   It is nominally used to pull notebook repos using
# nbgitpuller and then update the default kernels specified in the
# notebook files using set-notebook-kernels.

/opt/common-scripts/git-sync https://github.com/spacetelescope/jwebbinar_prep current_webbinar /home/jovyan/jwebbinar_prep

#/opt/common-scripts/set-notebook-kernel jdaviz jdaviz jwebbinar_prep/test_environment/JWebbinar_viztool_tests.ipynb

#/opt/common-scripts/set-notebook-kernel jwebbinar JWebbinar jwebbinar_prep/test_environment/pipeline_testenv_nirissdata.ipynb

#/opt/common-scripts/set-notebook-kernel jwebbinar JWebbinar jwebbinar_prep/pipeline_products_session/*.ipynb

/opt/common-scripts/set-notebook-kernel jwebbinar JWebbinar jwebbinar_prep/imaging_mode/*.ipynb

mkdir -p /opt/environments/jwebbinar/tests
ls -1 /home/jovyan/jwebbinar_prep/imaging_mode/*.ipynb  | grep -v __ | grep -v _live  >/opt/environments/jwebbinar/tests/notebooks
